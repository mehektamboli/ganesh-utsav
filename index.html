<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ganpati Bappa Morya!</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'ganesh-red': '#C0392B',
                        'ganesh-orange': '#E67E22',
                        'ganesh-yellow': '#F39C12',
                        'ganesh-green': '#27AE60',
                        'ganesh-blue': '#2980B9',
                        'ganesh-purple': '#8E44AD',
                        'gold': '#FFD700',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(to bottom right, #f7f0e6, #fffaf0);
        }
        .hero-bg {
            background-image: url('https://placehold.co/1200x800/2C3E50/FFFFFF?text=Ganpati+Bappa+Morya!');
            background-size: cover;
            background-position: center;
        }
        .text-shadow-outline {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        /* Custom styles for the game */
        #gameCanvas {
            border: 2px solid #8E44AD;
            background-color: #fcebeb;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .game-ui {
            background-color: #fff;
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-width: 400px;
        }
    </style>
</head>
<body class="bg-ganesh-red text-slate-800">

    <!-- Hero Section -->
    <div class="relative hero-bg bg-cover bg-center min-h-screen flex items-center justify-center text-center p-6">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="relative z-10 text-white max-w-4xl mx-auto p-8 rounded-xl backdrop-blur-sm bg-white/10">
            <h1 class="text-5xl md:text-7xl font-bold mb-4 text-gold animate-pulse">
                Ganpati Bappa Morya!
            </h1>
            <p class="text-lg md:text-xl font-medium mb-8 text-white">
                Celebrating the divine arrival of Lord Ganesha, the remover of obstacles.
            </p>
            <a href="#about" class="inline-block bg-ganesh-yellow hover:bg-gold transition-colors duration-300 text-slate-800 font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105">
                Learn More
            </a>
        </div>
    </div>

    <!-- About Section -->
    <section id="about" class="py-16 md:py-24 px-6 bg-orange-50 shadow-inner">
        <div class="container mx-auto max-w-5xl text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-ganesh-orange mb-6">About Ganesh Utsav</h2>
            <p class="text-base md:text-lg mb-8 text-slate-700 leading-relaxed">
                Ganesh Chaturthi, also known as Vinayaka Chaturthi, is a Hindu festival celebrating the birth of Lord Ganesha. The festival is marked by the installation of Ganesha's clay idols privately in homes and publicly in elaborate pandals. The festival concludes on the tenth day after the arrival of Ganesha, when the idol is immersed in a body of water.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                <!-- Feature 1 -->
                <div class="bg-ganesh-red/10 p-6 rounded-xl shadow-md transform hover:scale-105 transition-transform duration-300">
                    <div class="text-4xl mb-4 text-ganesh-red">üôè</div>
                    <h3 class="font-semibold text-xl mb-2">Pooja and Aarti</h3>
                    <p class="text-sm text-slate-600">Daily prayers and devotional songs are offered to the idol with great reverence.</p>
                </div>
                <!-- Feature 2 -->
                <div class="bg-ganesh-blue/10 p-6 rounded-xl shadow-md transform hover:scale-105 transition-transform duration-300">
                    <div class="text-4xl mb-4 text-ganesh-blue">üé∂</div>
                    <h3 class="font-semibold text-xl mb-2">Cultural Programs</h3>
                    <p class="text-sm text-slate-600">Pandals host various cultural events, including music, dance, and plays.</p>
                </div>
                <!-- Feature 3 -->
                <div class="bg-ganesh-green/10 p-6 rounded-xl shadow-md transform hover:scale-105 transition-transform duration-300">
                    <div class="text-4xl mb-4 text-ganesh-green">üéâ</div>
                    <h3 class="font-semibold text-xl mb-2">Visarjan</h3>
                    <p class="text-sm text-slate-600">The final day is marked by the immersion of the idol, symbolizing Ganesha's return to his heavenly abode.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Gallery Section -->
    <section class="py-16 md:py-24 px-6 bg-ganesh-yellow/20">
        <div class="container mx-auto max-w-6xl text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-ganesh-orange mb-8">Ganpati of Maharashtra</h2>
            
            <!-- City Selection Buttons -->
            <div class="flex flex-wrap justify-center items-center gap-4 mb-12">
                <button id="mumbai-btn" class="city-btn bg-ganesh-orange text-white font-bold py-3 px-6 rounded-full shadow-lg transform hover:scale-105 transition-all duration-300">
                    Mumbai
                </button>
                <button id="pune-btn" class="city-btn bg-ganesh-red text-white font-bold py-3 px-6 rounded-full shadow-lg transform hover:scale-105 transition-all duration-300">
                    Pune
                </button>
            </div>

            <!-- Image Gallery Container -->
            <div id="gallery-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Images will be dynamically inserted here -->
            </div>
        </div>
    </section>
    
    <!-- Game Section -->
    <section id="game-section" class="py-16 md:py-24 px-6 bg-ganesh-green/10 text-center">
        <div class="container mx-auto max-w-4xl">
            <h2 class="text-4xl md:text-5xl font-bold text-ganesh-green mb-8">Play a Game!</h2>
            <div class="game-ui mx-auto flex flex-col items-center">
                <p class="text-lg font-semibold mb-4 text-slate-800">Catch the modaks with the basket! Use the left and right arrow keys.</p>
                <canvas id="gameCanvas" width="400" height="400"></canvas>
                <div class="mt-4 flex flex-col sm:flex-row justify-center items-center gap-4 w-full">
                    <button id="startGameBtn" class="bg-ganesh-purple text-white font-bold py-3 px-8 rounded-full shadow-lg hover:scale-105 transition-all duration-300">
                        Start Game
                    </button>
                    <div id="scoreDisplay" class="text-xl font-bold text-ganesh-orange">Score: 0</div>
                </div>
            </div>
            <!-- Message Box for game instructions or game over -->
            <div id="messageBox" class="mt-4 p-4 rounded-lg bg-red-100 text-red-700 font-semibold hidden"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-ganesh-purple text-white py-12 px-6">
        <div class="container mx-auto max-w-5xl text-center">
            <h3 class="text-2xl font-bold mb-4">Happy Ganesh Chaturthi!</h3>
            <p class="text-sm opacity-80">
                May Lord Ganesha bless you with prosperity, wisdom, and good fortune.
            </p>
            <div class="mt-8 text-sm">
                &copy; 2024 Ganesh Utsav Celebration. All Rights Reserved.
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const galleryContainer = document.getElementById('gallery-container');
            const cityButtons = document.querySelectorAll('.city-btn');

            // I've replaced the original URLs with placeholder images to ensure they load correctly on any hosting platform.
            const cityImages = {
                mumbai: [
                    { src: 'https://placehold.co/400x300/E67E22/FFFFFF?text=Lalbaugcha+Raja', alt: 'Lalbaugcha Raja 2025 idol in Mumbai' },
                    { src: 'https://placehold.co/400x300/F39C12/FFFFFF?text=GSB+Seva+Mandal', alt: 'GSB Seva Mandal idol in Mumbai' },
                    { src: 'https://placehold.co/400x300/C0392B/FFFFFF?text=Andhericha+Raja', alt: 'Andhericha Raja in Mumbai' },
                    { src: 'https://placehold.co/400x300/8E44AD/FFFFFF?text=Chinchpoklicha+Chintamani', alt: 'Chinchpoklicha Chintamani' },
                ],
                pune: [
                    { src: 'https://placehold.co/400x300/2980B9/FFFFFF?text=Kasba+Ganpati', alt: 'Kasba Ganpati in Pune' },
                    { src: 'https://placehold.co/400x300/27AE60/FFFFFF?text=Tambdi+Jogeshwari', alt: 'Tambdi Jogeshwari in Pune' },
                    { src: 'https://placehold.co/400x300/E67E22/FFFFFF?text=Tulshibaug+Ganpati', alt: 'Tulshibaug Ganpati in Pune' },
                    { src: 'https://placehold.co/400x300/F39C12/FFFFFF?text=Guruji+Talim+Mandal', alt: 'Guruji Talim Mandal in Pune' },
                ],
            };

            const displayImages = (city) => {
                galleryContainer.innerHTML = '';
                const imagesToDisplay = cityImages[city];
                if (imagesToDisplay) {
                    imagesToDisplay.forEach(imgData => {
                        const img = document.createElement('img');
                        img.src = imgData.src;
                        img.alt = imgData.alt;
                        img.classList.add(
                            'rounded-xl',
                            'shadow-lg',
                            'transform',
                            'hover:scale-105',
                            'transition-transform',
                            'duration-300',
                            'cursor-pointer'
                        );
                        galleryContainer.appendChild(img);
                    });
                }
            };
            cityButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const city = e.target.id.split('-')[0];
                    displayImages(city);
                });
            });
            displayImages('mumbai');
        });
        
        // --- Modak Collector Game ---
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('scoreDisplay');
            const startGameBtn = document.getElementById('startGameBtn');
            const messageBox = document.getElementById('messageBox');

            let score = 0;
            let isGameOver = true;
            let gameLoopId;
            let capturedModaks = [];
            let eatingAnimationId;

            const player = {
                x: canvas.width / 2 - 25,
                y: canvas.height - 40,
                width: 50,
                height: 20,
                speed: 8,
                dx: 0
            };

            let modaks = [];
            const modakSpawnRate = 1000;
            let lastModakSpawn = 0;

            function showMessage(message, type = 'error') {
                messageBox.textContent = message;
                messageBox.classList.remove('hidden');
                if (type === 'error') {
                    messageBox.style.backgroundColor = '#FEE2E2';
                    messageBox.style.color = '#991B1B';
                } else if (type === 'success') {
                    messageBox.style.backgroundColor = '#D1FAE5';
                    messageBox.style.color = '#065F46';
                }
            }

            function hideMessage() {
                messageBox.classList.add('hidden');
            }

            // Sound effects
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();

            function playCollectSound() {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                oscillator.type = 'sine';
                oscillator.frequency.value = 440; // A4 note
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            }

            function playGameOverSound() {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                oscillator.type = 'triangle';
                oscillator.frequency.value = 100; // Low frequency
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            }

            // Drawing functions with more detail
            function drawPlayer() {
                const basketGradient = ctx.createLinearGradient(player.x, player.y, player.x + player.width, player.y + player.height);
                basketGradient.addColorStop(0, '#A0522D'); // Sienna
                basketGradient.addColorStop(0.5, '#B8860B'); // DarkGoldenRod
                basketGradient.addColorStop(1, '#A0522D'); // Sienna
                ctx.fillStyle = basketGradient;

                ctx.beginPath();
                ctx.moveTo(player.x, player.y);
                ctx.lineTo(player.x + player.width, player.y);
                ctx.arcTo(player.x + player.width, player.y + player.height, player.x + player.width - 10, player.y + player.height, 10);
                ctx.lineTo(player.x + 10, player.y + player.height);
                ctx.arcTo(player.x, player.y + player.height, player.x, player.y, 10);
                ctx.closePath();
                ctx.fill();
            }

            function drawModaks(modakArray) {
                modakArray.forEach(modak => {
                    const modakGradient = ctx.createRadialGradient(modak.x, modak.y, 0, modak.x, modak.y, modak.radius);
                    modakGradient.addColorStop(0, '#FFD700'); // Gold
                    modakGradient.addColorStop(1, '#FF8C00'); // DarkOrange
                    ctx.fillStyle = modakGradient;
                    ctx.beginPath();
                    ctx.moveTo(modak.x, modak.y - modak.radius);
                    ctx.bezierCurveTo(
                        modak.x + modak.radius * 0.75, modak.y - modak.radius * 0.75,
                        modak.x + modak.radius * 0.75, modak.y + modak.radius * 0.75,
                        modak.x, modak.y + modak.radius
                    );
                    ctx.bezierCurveTo(
                        modak.x - modak.radius * 0.75, modak.y + modak.radius * 0.75,
                        modak.x - modak.radius * 0.75, modak.y - modak.radius * 0.75,
                        modak.x, modak.y - modak.radius
                    );
                    ctx.closePath();
                    ctx.fill();
                    ctx.fillStyle = '#C0392B';
                    ctx.beginPath();
                    ctx.arc(modak.x, modak.y - modak.radius, 2, 0, Math.PI * 2);
                    ctx.fill();
                });
            }

            // New function to draw a more detailed Ganpati Bappa
            function drawGanpati() {
                const cx = canvas.width / 2;
                const cy = canvas.height / 2 + 50;

                // Body
                ctx.fillStyle = '#F4A460'; // Sandy brown for skin
                ctx.beginPath();
                ctx.ellipse(cx, cy, 60, 80, 0, 0, Math.PI * 2);
                ctx.fill();

                // Head
                ctx.fillStyle = '#F4A460';
                ctx.beginPath();
                ctx.arc(cx, cy - 80, 50, 0, Math.PI * 2);
                ctx.fill();

                // Trunk
                ctx.fillStyle = '#A0522D';
                ctx.beginPath();
                ctx.moveTo(cx - 5, cy - 50);
                ctx.bezierCurveTo(cx - 30, cy + 20, cx + 30, cy + 20, cx + 5, cy - 50);
                ctx.lineTo(cx + 10, cy - 20);
                ctx.lineTo(cx - 10, cy - 20);
                ctx.closePath();
                ctx.fill();

                // Ears
                ctx.fillStyle = '#F4A460';
                ctx.beginPath();
                ctx.moveTo(cx - 50, cy - 80);
                ctx.quadraticCurveTo(cx - 120, cy - 50, cx - 50, cy - 120);
                ctx.fill();
                ctx.beginPath();
                ctx.moveTo(cx + 50, cy - 80);
                ctx.quadraticCurveTo(cx + 120, cy - 50, cx + 50, cy - 120);
                ctx.fill();

                // Tusk
                ctx.fillStyle = '#FFEFD5'; // Papaya whip color for tusk
                ctx.beginPath();
                ctx.moveTo(cx + 30, cy - 70);
                ctx.quadraticCurveTo(cx + 40, cy - 50, cx + 20, cy - 30);
                ctx.fill();

                // Crown
                ctx.fillStyle = '#FFD700'; // Gold
                ctx.beginPath();
                ctx.moveTo(cx, cy - 130);
                ctx.lineTo(cx - 30, cy - 100);
                ctx.lineTo(cx + 30, cy - 100);
                ctx.closePath();
                ctx.fill();

                // Eyes and Tilak
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(cx - 15, cy - 85, 3, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(cx + 15, cy - 85, 3, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = '#C0392B';
                ctx.beginPath();
                ctx.moveTo(cx, cy - 100);
                ctx.lineTo(cx - 5, cy - 90);
                ctx.lineTo(cx + 5, cy - 90);
                ctx.closePath();
                ctx.fill();
            }

            function endGameAnimation() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawGanpati();

                let allEaten = true;
                capturedModaks.forEach((modak) => {
                    const targetX = canvas.width / 2;
                    const targetY = canvas.height / 2;

                    const dx = targetX - modak.x;
                    const dy = targetY - modak.y;

                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance > 5) {
                        modak.x += dx * 0.05;
                        modak.y += dy * 0.05;
                        allEaten = false;
                    }
                    drawModaks([modak]);
                });

                if (allEaten) {
                    cancelAnimationFrame(eatingAnimationId);
                    showMessage(`All modaks eaten! Your final score is: ${score}. Ganpati Bappa is happy! üôè`, 'success');
                    startGameBtn.textContent = 'Play Again';
                } else {
                    eatingAnimationId = requestAnimationFrame(endGameAnimation);
                }
            }

            function updateGame() {
                if (isGameOver) return;

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                player.x += player.dx;
                if (player.x < 0) player.x = 0;
                if (player.x + player.width > canvas.width) player.x = canvas.width - player.width;

                modaks.forEach((modak, index) => {
                    modak.y += modak.speed;

                    if (modak.y + modak.radius >= player.y &&
                        modak.x >= player.x &&
                        modak.x <= player.x + player.width) {
                        score += 10;
                        scoreDisplay.textContent = `Score: ${score}`;
                        playCollectSound();
                        capturedModaks.push(modak);
                        modaks.splice(index, 1);
                    }

                    if (modak.y > canvas.height) {
                        isGameOver = true;
                        cancelAnimationFrame(gameLoopId);
                        playGameOverSound();
                        endGameAnimation();
                    }
                });

                if (Date.now() - lastModakSpawn > modakSpawnRate) {
                    modaks.push({
                        x: Math.random() * (canvas.width - 20) + 10,
                        y: 0,
                        radius: 10,
                        speed: Math.random() * 2 + 1.5
                    });
                    lastModakSpawn = Date.now();
                }

                drawPlayer();
                drawModaks(modaks);

                gameLoopId = requestAnimationFrame(updateGame);
            }

            function startGame() {
                if (!isGameOver) return;
                isGameOver = false;
                score = 0;
                modaks = [];
                capturedModaks = [];
                player.x = canvas.width / 2 - 25;
                player.y = canvas.height - 40;
                player.dx = 0;
                scoreDisplay.textContent = `Score: 0`;
                startGameBtn.textContent = 'Restart';
                hideMessage();
                updateGame();
            }

            document.addEventListener('keydown', (e) => {
                if (isGameOver) return;
                if (e.key === 'ArrowLeft') {
                    player.dx = -player.speed;
                } else if (e.key === 'ArrowRight') {
                    player.dx = player.speed;
                }
            });

            document.addEventListener('keyup', (e) => {
                if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                    player.dx = 0;
                }
            });

            let touchX = null;
            canvas.addEventListener('touchstart', (e) => {
                if (isGameOver) return;
                touchX = e.touches[0].clientX;
            });
            canvas.addEventListener('touchmove', (e) => {
                if (isGameOver) return;
                const newTouchX = e.touches[0].clientX;
                player.x += (newTouchX - touchX);
                touchX = newTouchX;
            });
            canvas.addEventListener('touchend', () => {
                player.dx = 0;
                touchX = null;
            });

            startGameBtn.addEventListener('click', startGame);
        });
    </script>

</body>
</html>
